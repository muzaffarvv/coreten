spring:
  application:
    name: coreten-service

  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 15MB # Increased slightly for request overhead

  datasource:
    url: ${DB_URL:jdbc:postgresql://localhost:5432/coreten_db}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:admin}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10 # Recommended for standard small services

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    open-in-view: false # Performance: Prevents holding connections too long
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

# Move custom logic under a unique namespace
app:
  file:
    upload-dir: ${UPLOAD_DIR:uploads}
    max-size-bytes: 10485760
  jwt:
    # Remove default secret to ensure it's provided via environment
    secret: ${JWT_SECRET}
    issuer: ${JWT_ISSUER:coreten-service}
    token-type: Bearer
    access-token-expiration-ms: ${JWT_ACCESS_EXPIRATION:3600000}
    refresh-token-expiration-ms: ${JWT_REFRESH_EXPIRATION:604800000}

logging:
  level:
    root: INFO
    uz.vv.coretenservice: DEBUG
    org.springframework.security: INFO